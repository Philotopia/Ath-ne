<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ath√®nes : Guide Ultime & Dark Mode</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS with Dark Mode Config -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        stone: { 850: '#1c1917', 900: '#0c0a09' }
                    }
                }
            }
        }
    </script>
    
    <!-- Leaflet CSS & JS for Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lato:wght@300;400;700&display=swap');
        
        body {
            font-family: 'Lato', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        h1, h2, h3, .serif-title {
            font-family: 'Cinzel', serif;
        }
        .tab-active {
            border-bottom: 3px solid #8c2f39;
            color: #8c2f39;
            font-weight: 700;
        }
        .dark .tab-active {
            border-bottom: 3px solid #f87171;
            color: #f87171;
        }
        #map-container {
            height: 500px;
            width: 100%;
            z-index: 10;
            border-radius: 0.5rem;
        }
        /* Style pour l'input file cach√© */
        .file-input {
            display: none;
        }
        .photo-card {
            aspect-ratio: 1 / 1;
            transition: transform 0.2s;
        }
        .photo-card:active {
            transform: scale(0.98);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #888; 
            border-radius: 4px;
        }
        .dark ::-webkit-scrollbar-track {
            background: #2d2d2d;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #555;
        }
    </style>
</head>
<body class="bg-[#f4f1ea] text-[#2c2c2c] dark:bg-stone-900 dark:text-stone-200">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- DONN√âES CULTURELLES ENRICHIES (ACTIVIT√âS + IMAGES) ---
        const placesData = [
            // --- ACROPOLE (Rouge) ---
            {
                id: 1, name: "Acropole d'Ath√®nes", zone: "Acropole", color: "red",
                address: "Athens 105 58", coords: [37.9715, 23.7257],
                hours: "08:00 - 17:00", price: "Hiver: 10‚Ç¨ | Pass 30‚Ç¨",
                booking: "Obligatoire", myth: "Duel Ath√©na/Pos√©idon.", philo: "Hybris et Mesure.",
                website: "http://odysseus.culture.gr/h/3/eh351.jsp?obj_id=2384",
                type: "Primaire",
                image: "https://placehold.co/600x400/8c2f39/FFF?text=Parthenon",
                activity: "Monter les marches des Propyl√©es, faire le tour complet du Parth√©non, admirer les caryatides de l'√ârechth√©ion et profiter de la vue panoramique sur toute la ville."
            },
            {
                id: 2, name: "Mus√©e de l'Acropole", zone: "Acropole", color: "red",
                address: "Dionysiou Areopagitou 15", coords: [37.9684, 23.7285],
                hours: "Lun-Jeu: 9h-17h | Ven: 22h", price: "Hiver: 5‚Ç¨",
                booking: "Conseill√©e", myth: "Caryatides.", philo: "M√©moire.",
                website: "https://www.theacropolismuseum.gr/en",
                type: "Primaire",
                image: "https://placehold.co/600x400/8c2f39/FFF?text=Musee+Acropole",
                activity: "Voir les 5 Caryatides originales, marcher sur les sols de verre au-dessus des fouilles, et d√©jeuner au restaurant avec vue directe sur le rocher sacr√©."
            },
            {
                id: 3, name: "Colline de la Pnyx", zone: "Acropole", color: "red",
                address: "Pnyx", coords: [37.9716, 23.7194],
                hours: "24h/24", price: "Gratuit",
                booking: "Non", myth: "Zeus Hypsistos.", philo: "D√©mocratie.",
                website: "http://odysseus.culture.gr/h/3/eh351.jsp?obj_id=2384",
                type: "Primaire",
                image: "https://placehold.co/600x400/8c2f39/FFF?text=Pnyx",
                activity: "Se tenir sur la tribune des orateurs (B√™ma), imaginer les discours de P√©ricl√®s, et pique-niquer face √† la meilleure vue du Parth√©non."
            },
            {
                id: 12, name: "Monument de Philopappos", zone: "Acropole", color: "red",
                address: "Filopappou Hill", coords: [37.9673, 23.7213],
                hours: "24h/24", price: "Gratuit",
                booking: "Non", myth: "Muses.", philo: "Vue panoramique.",
                website: "http://odysseus.culture.gr/h/2/gh251.jsp?obj_id=1832",
                type: "Secondaire",
                image: "https://placehold.co/600x400/8c2f39/FFF?text=Philopappos",
                activity: "Randonn√©e facile dans les pins, observation du monument fun√©raire romain et coucher de soleil sur le golfe Saronique."
            },
            {
                id: 13, name: "Od√©on d'H√©rode Atticus", zone: "Acropole", color: "red",
                address: "Dionysiou Areopagitou", coords: [37.9708, 23.7246],
                hours: "Visible de l'ext√©rieur", price: "-",
                booking: "Spectacles uniquement", myth: "Dionysos.", philo: "Musique & Trag√©die.",
                website: "http://odysseus.culture.gr/h/2/gh251.jsp?obj_id=6622",
                type: "Secondaire",
                image: "https://placehold.co/600x400/8c2f39/FFF?text=Odeon+Herode",
                activity: "Admirer l'architecture romaine depuis le chemin pi√©tonnier menant √† l'Acropole (ferm√© hors spectacle)."
            },

            // --- AGORA / CENTRE (Bleu) ---
            {
                id: 4, name: "Agora Antique", zone: "Agora", color: "blue",
                address: "Adrianou 24", coords: [37.9750, 23.7225],
                hours: "08:00 - 17:00", price: "Hiver: 5‚Ç¨ | Pass 30‚Ç¨",
                booking: "Non", myth: "H√©pha√Østos.", philo: "Socrate.",
                website: "http://odysseus.culture.gr/h/3/eh351.jsp?obj_id=2485",
                type: "Primaire",
                image: "https://placehold.co/600x400/2563eb/FFF?text=Agora+Antique",
                activity: "Visiter le Temple d'H√©pha√Østos (le mieux conserv√©), fl√¢ner sous la Stoa d'Attale et chercher les traces de la prison de Socrate."
            },
            {
                id: 5, name: "Biblioth√®que d'Hadrien", zone: "Agora", color: "blue",
                address: "Areos 3", coords: [37.9756, 23.7262],
                hours: "08:00 - 17:00", price: "Hiver: 3‚Ç¨ | Pass 30‚Ç¨",
                booking: "Non", myth: "Romain.", philo: "Savoir.",
                website: "http://odysseus.culture.gr/h/3/eh351.jsp?obj_id=2485",
                type: "Primaire",
                image: "https://placehold.co/600x400/2563eb/FFF?text=Biblio+Hadrien",
                activity: "Observer les vestiges des murs de marbre, les salles de lecture romaines et les √©glises byzantines construites √† l'int√©rieur."
            },
            {
                id: 6, name: "Kerameikos", zone: "Agora", color: "blue",
                address: "Ermou 148", coords: [37.9783, 23.7179],
                hours: "08:00 - 17:00", price: "Hiver: 4‚Ç¨ | Pass 30‚Ç¨",
                booking: "Non", myth: "Enfers.", philo: "Mort.",
                website: "http://odysseus.culture.gr/h/3/eh351.jsp?obj_id=2392",
                type: "Primaire",
                image: "https://placehold.co/600x400/2563eb/FFF?text=Kerameikos",
                activity: "Promenade silencieuse dans l'all√©e des tombes, observation des st√®les fun√©raires sculpt√©es et visite du petit mus√©e sur place."
            },
            {
                id: 14, name: "Temple de Zeus (Olympieion)", zone: "Agora", color: "blue",
                address: "Athens 105 57", coords: [37.9693, 23.7331],
                hours: "08:00 - 17:00", price: "Hiver: 3‚Ç¨ | Pass 30‚Ç¨",
                booking: "Non", myth: "Zeus.", philo: "Grandeur & D√©clin.",
                website: "http://odysseus.culture.gr/h/3/eh351.jsp?obj_id=2488",
                type: "Secondaire",
                image: "https://placehold.co/600x400/2563eb/FFF?text=Temple+Zeus",
                activity: "Se sentir tout petit face aux immenses colonnes corinthiennes restantes et voir la Porte d'Hadrien juste √† c√¥t√©."
            },
            {
                id: 15, name: "Jardin National", zone: "Agora", color: "blue",
                address: "Leoforos Amalias 1", coords: [37.9730, 23.7369],
                hours: "Lever au Coucher", price: "Gratuit",
                booking: "Non", myth: "Reine Amalia.", philo: "Botanique.",
                website: "https://www.cityofathens.gr/en/",
                type: "Secondaire",
                image: "https://placehold.co/600x400/2563eb/FFF?text=Jardin+National",
                activity: "Balade botanique, observation des tortues dans les bassins, pause lecture sur un banc √† l'ombre des palmiers."
            },

            // --- PHILOSOPHIE & CULTURE (Violet) ---
            {
                id: 7, name: "Lyc√©e d'Aristote", zone: "Philosophie", color: "purple",
                address: "Rigillis 11", coords: [37.9738, 23.7443],
                hours: "08:00 - 17:00", price: "Hiver: 2‚Ç¨ | Pass 30‚Ç¨",
                booking: "Non", myth: "Apollon.", philo: "Logique.",
                website: "http://odysseus.culture.gr/h/3/eh351.jsp?obj_id=2394",
                type: "Primaire",
                image: "https://placehold.co/600x400/9333ea/FFF?text=Lycee+Aristote",
                activity: "Marcher dans les ruines de la palestre (lutte), lire un texte d'Aristote dans les jardins, profiter du calme absolu."
            },
            {
                id: 9, name: "Mus√©e Arch√©ologique", zone: "Philosophie", color: "purple",
                address: "28is Oktovriou 44", coords: [37.9891, 23.7326],
                hours: "08:30 - 15:30", price: "Hiver: 6‚Ç¨",
                booking: "Non", myth: "Myc√®nes.", philo: "Art.",
                website: "https://www.namuseum.gr/en/",
                type: "Primaire",
                image: "https://placehold.co/600x400/9333ea/FFF?text=Musee+Archeo",
                activity: "Voir le masque d'Agamemnon, la machine d'Anticyth√®re, les fresques de Santorin et l'√©volution de la statuaire grecque."
            },
            {
                id: 16, name: "Stade Panath√©na√Øque", zone: "Philosophie", color: "purple",
                address: "Leof. Vasileos Konstantinou", coords: [37.9686, 23.7408],
                hours: "08:00 - 17:00", price: "10‚Ç¨",
                booking: "Non", myth: "Ath√©na (Jeux).", philo: "Agon (Comp√©tition).",
                website: "http://www.panathenaicstadium.gr/",
                type: "Secondaire",
                image: "https://placehold.co/600x400/9333ea/FFF?text=Stade+Kallimarmaro",
                activity: "Courir sur la piste olympique, monter en haut des gradins en marbre pour la photo, traverser le tunnel des gladiateurs."
            },
            {
                id: 17, name: "Mus√©e Benaki", zone: "Philosophie", color: "purple",
                address: "Koumpari 1", coords: [37.9760, 23.7403],
                hours: "10:00 - 18:00 (Ferm√© Mar)", price: "12‚Ç¨",
                booking: "Non", myth: "Histoire Grecque.", philo: "Identit√©.",
                website: "https://www.benaki.org/index.php?lang=fr",
                type: "Secondaire",
                image: "https://placehold.co/600x400/9333ea/FFF?text=Musee+Benaki",
                activity: "Parcourir toute l'histoire grecque de l'antiquit√© √† 1922, voir les costumes traditionnels et boire un caf√© sur la terrasse."
            },
            {
                id: 18, name: "Mus√©e Art Cycladique", zone: "Philosophie", color: "purple",
                address: "Neofitou Douka 4", coords: [37.9757, 23.7424],
                hours: "10:00 - 17:00 (Ferm√© Mar)", price: "12‚Ç¨",
                booking: "Non", myth: "Cyclades.", philo: "Abstraction.",
                website: "https://cycladic.gr/en",
                type: "Secondaire",
                image: "https://placehold.co/600x400/9333ea/FFF?text=Art+Cycladique",
                activity: "Admirer les idoles cycladiques minimalistes (inspiration de Picasso), visiter l'aile Stathatos."
            },

            // --- HORS VILLE (√âmeraude) ---
            {
                id: 10, name: "Cap Sounion", zone: "Hors Ville", color: "emerald",
                address: "Sounio 195 00", coords: [37.6502, 24.0245],
                hours: "09:30 - Coucher soleil", price: "Hiver: 5‚Ç¨",
                booking: "Non", myth: "√âg√©e.", philo: "Nature.",
                website: "http://odysseus.culture.gr/h/3/eh351.jsp?obj_id=2390",
                type: "Primaire",
                image: "https://placehold.co/600x400/10b981/FFF?text=Cap+Sounion",
                activity: "Admirer les graffitis de Lord Byron, regarder le soleil se coucher derri√®re les colonnes, descendre vers la petite crique."
            },
            {
                id: 11, name: "Lac de Vouliagmeni", zone: "Hors Ville", color: "emerald",
                address: "Vouliagmeni 166 71", coords: [37.8073, 23.7854],
                hours: "08:00 - 17:00", price: "~16‚Ç¨",
                booking: "Non", myth: "Nymphes.", philo: "Soin.",
                website: "https://www.limnivouliagmenis.gr/en/",
                type: "Primaire",
                image: "https://placehold.co/600x400/10b981/FFF?text=Lac+Vouliagmeni",
                activity: "Baignade dans l'eau thermale (22¬∞C toute l'ann√©e), fish-spa naturel, caf√© au bord de l'eau."
            },
            {
                id: 19, name: "Centre Culturel SNFCC", zone: "Hors Ville", color: "emerald",
                address: "Leof. Syggrou 364", coords: [37.9402, 23.6923],
                hours: "06:00 - Minuit", price: "Gratuit",
                booking: "Pour l'Op√©ra", myth: "Moderne.", philo: "Espace Public.",
                website: "https://www.snfcc.org/en",
                type: "Secondaire",
                image: "https://placehold.co/600x400/10b981/FFF?text=SNFCC+Opera",
                activity: "Monter au 'Lighthouse' pour la vue sur la mer, marcher le long du canal, visiter la biblioth√®que nationale ultramoderne."
            },
            {
                id: 20, name: "Mont Lycabette", zone: "Hors Ville", color: "emerald",
                address: "Aristippou 1 (Funiculaire)", coords: [37.9820, 23.7432],
                hours: "24h/24", price: "Funiculaire ~7.50‚Ç¨",
                booking: "Non", myth: "Rocher d'Ath√©na.", philo: "Hauteur.",
                website: "https://www.lycabettushill.com/",
                type: "Secondaire",
                image: "https://placehold.co/600x400/10b981/FFF?text=Mont+Lycabette",
                activity: "Prendre le funiculaire ou monter √† pied, visiter la chapelle Saint-Georges au sommet, boire un verre au coucher du soleil."
            }
        ];

        // --- DONN√âES LIFESTYLE ---
        const lifestyleData = {
            hotels: [
                { name: "Herodion Hotel", type: "Confort / 4*", area: "Plaka / Acropole", price: "100‚Ç¨-120‚Ç¨", desc: "√âl√©gant, calme, proche mus√©e.", address: "Rovertou Galli 4" },
                { name: "Plaka Hotel", type: "Standard / 3*", area: "Plaka", price: "80‚Ç¨-100‚Ç¨", desc: "Vue toit-terrasse incroyable.", address: "Kapnikarea 7" },
                { name: "Home and Poetry", type: "Boutique", area: "Plaka", price: "90‚Ç¨", desc: "Charme n√©oclassique.", address: "Lysikratous 10" }
            ],
            restaurants: [
                { name: "Kuzina", type: "Moderne", price: "35‚Ç¨-50‚Ç¨", desc: "Vue temple H√©pha√Østos.", address: "Adrianou 9" },
                { name: "To Kafeneio", type: "Taverne", price: "15‚Ç¨-25‚Ç¨", desc: "Authentique, b√¢timent 400 ans.", address: "Epicharmou 1" },
                { name: "Strofi", type: "Historique", price: "30‚Ç¨-45‚Ç¨", desc: "Vue Parth√©non depuis 1975.", address: "Rovertou Galli 25" },
                { name: "O Thanasis", type: "Street Food", price: "10‚Ç¨-15‚Ç¨", desc: "Meilleur Kebab de Monastiraki.", address: "Mitropoleos 69" }
            ],
            activities: [
                { name: "Hammam Baths", type: "D√©tente", price: "45‚Ç¨", desc: "Bain traditionnel (Thissio).", address: "Melidoni 1" },
                { name: "Soir√©e Rebetiko", type: "Musique", price: "Repas", desc: "Blues grec en taverne.", address: "Ex: Klimataria" },
                { name: "Cin√©math√®que", type: "Culture", price: "8‚Ç¨", desc: "Cin√©ma en salle historique.", address: "Ex: Danaos" }
            ]
        };

        const photoChallenges = [
            { id: "p1", title: "L'Imposteur", desc: "Imite la pose d'une statue (Caryatide ou Kouros).", zone: "Mus√©e / Acropole", icon: "üóø" },
            { id: "p2", title: "Le Chat Socratique", desc: "Trouve un chat errant et demande-lui le sens de la vie.", zone: "Agora / Plaka", icon: "üê±" },
            { id: "p3", title: "L'Orateur", desc: "Prends une pose de discours intense face au vide.", zone: "Pnyx", icon: "üì¢" },
            { id: "p4", title: "Le Gardien", desc: "Selfie √©pique avec le Parth√©non en arri√®re-plan.", zone: "Acropole", icon: "üèõÔ∏è" },
            { id: "p5", title: "Le Banquet", desc: "Photo artistique de ta meilleure salade grecque ou gyros.", zone: "Taverne", icon: "ü•ó" },
            { id: "p6", title: "L'Horizon", desc: "Regard m√©lancolique vers la mer (style √âg√©e).", zone: "Sounion / Areopage", icon: "üåä" }
        ];

        // --- COMPOSANT CARTE ---
        const MapComponent = ({ places }) => {
            useEffect(() => {
                const container = L.DomUtil.get('map-container');
                if(container != null) container._leaflet_id = null;
                const map = L.map('map-container').setView([37.974, 23.73], 13);
                L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', { attribution: '&copy; OSM & CartoDB' }).addTo(map);
                places.forEach(place => {
                    let color = place.color === 'red' ? '#dc2626' : place.color === 'purple' ? '#7c3aed' : place.color === 'emerald' ? '#10b981' : '#3b82f6';
                    const marker = L.circleMarker(place.coords, { color: color, fillColor: color, fillOpacity: 0.8, radius: place.type === 'Primaire' ? 10 : 6 });
                    marker.addTo(map).bindPopup(`<b>${place.name}</b><br/>${place.address}`);
                });
                return () => map.remove();
            }, [places]);
            return <div id="map-container" className="shadow-xl border border-gray-300 dark:border-stone-700"></div>;
        };

        // --- COMPOSANT PRINCIPAL ---
        const App = () => {
            const [activeTab, setActiveTab] = useState('zones');
            const [userPhotos, setUserPhotos] = useState({});
            const [darkMode, setDarkMode] = useState(false);

            // Toggle Dark Mode
            useEffect(() => {
                if (darkMode) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            }, [darkMode]);

            const handlePhotoUpload = (challengeId, event) => {
                const file = event.target.files[0];
                if (file) {
                    const imageUrl = URL.createObjectURL(file);
                    setUserPhotos(prev => ({ ...prev, [challengeId]: imageUrl }));
                }
            };

            // Fonction pour g√©n√©rer le lien Google Maps
            const getMapsLink = (place) => {
                const query = encodeURIComponent(`${place.address} ${place.name} Athens`);
                return `https://www.google.com/maps/search/?api=1&query=${query}`;
            };

            const groupByZone = (data) => data.reduce((acc, p) => { (acc[p.zone] = acc[p.zone] || []).push(p); return acc; }, {});
            const groupedPlaces = groupByZone(placesData);
            const zoneOrder = ["Acropole", "Agora", "Philosophie", "Hors Ville"];

            return (
                <div className="max-w-6xl mx-auto p-4 md:p-8 min-h-screen">
                    
                    {/* TOP BAR / DARK MODE */}
                    <div className="flex justify-end mb-4">
                        <button 
                            onClick={() => setDarkMode(!darkMode)}
                            className="p-2 rounded-full bg-gray-200 dark:bg-stone-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-stone-600 transition-colors flex items-center gap-2 text-sm font-bold"
                        >
                            {darkMode ? '‚òÄÔ∏è Mode Jour' : 'üåô Mode Nuit'}
                        </button>
                    </div>

                    <header className="text-center mb-10">
                        <h1 className="text-4xl md:text-6xl text-slate-800 dark:text-slate-100 mb-2 tracking-tight">Ath√®nes</h1>
                        <h2 className="text-xl md:text-2xl text-slate-600 dark:text-slate-400 italic font-light font-serif">Guide Ultime Janvier 2025</h2>
                        
                        {/* WIDGET METEO */}
                        <div className="mt-4 inline-flex items-center gap-2 px-4 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full text-sm border border-blue-100 dark:border-blue-800">
                            <span>‚õÖ M√©t√©o Moy. Janvier :</span>
                            <span className="font-bold">10¬∞C - 15¬∞C</span>
                        </div>
                    </header>

                    {/* MENU NAVIGATION */}
                    <nav className="flex flex-wrap justify-center gap-2 md:gap-6 mb-8 border-b border-gray-200 dark:border-stone-700 sticky top-0 bg-[#f4f1ea] dark:bg-stone-900 z-20 py-2 transition-colors duration-300">
                        {[
                            { id: 'zones', label: 'üèõÔ∏è Lieux & Culture' },
                            { id: 'map', label: 'üó∫Ô∏è Carte' },
                            { id: 'lifestyle', label: 'üç∑ Vie Pratique' },
                            { id: 'photos', label: 'üì∏ D√©fi Photo' }
                        ].map(tab => (
                            <button 
                                key={tab.id}
                                onClick={() => setActiveTab(tab.id)}
                                className={`px-4 py-2 rounded-full text-sm md:text-base transition-all ${activeTab === tab.id ? 'bg-[#8c2f39] text-white shadow-lg' : 'text-gray-500 dark:text-gray-400 hover:bg-white dark:hover:bg-stone-800'}`}
                            >
                                {tab.label}
                            </button>
                        ))}
                    </nav>

                    {/* CONTENU CULTUREL */}
                    {activeTab === 'zones' && (
                        <div className="animate-fade-in space-y-12">
                            {zoneOrder.map(zone => {
                                const places = groupedPlaces[zone];
                                const zoneColor = places[0]?.color || 'gray';
                                const colorMap = { red: 'red', blue: 'blue', purple: 'purple', emerald: 'emerald' };
                                const c = colorMap[zoneColor];
                                
                                // S√©parer les lieux primaires et secondaires
                                const primaries = places.filter(p => p.type === 'Primaire');
                                const secondaries = places.filter(p => p.type === 'Secondaire');

                                return (
                                    <section key={zone}>
                                        <h3 className={`text-2xl font-bold serif-title mb-6 pb-2 border-b-2 border-${c}-600 text-${c}-800 dark:text-${c}-400`}>
                                            {zone === "Acropole" ? "Le Sacr√©" : zone === "Agora" ? "La Cit√©" : zone === "Philosophie" ? "La Sagesse" : "La Nature"}
                                        </h3>
                                        
                                        {/* INCONTOURNABLES */}
                                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                                            {primaries.map(p => (
                                                <PlaceCard key={p.id} p={p} c={c} getMapsLink={getMapsLink} />
                                            ))}
                                        </div>

                                        {/* SECONDAIRES */}
                                        {secondaries.length > 0 && (
                                            <>
                                                <h4 className="text-sm font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 mb-4 mt-8 flex items-center">
                                                    <span className="w-4 h-px bg-gray-400 mr-2"></span>
                                                    Iconiques Secondaires
                                                    <span className="w-full h-px bg-gray-200 dark:bg-stone-700 ml-2"></span>
                                                </h4>
                                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                                                    {secondaries.map(p => (
                                                        <PlaceCard key={p.id} p={p} c={c} getMapsLink={getMapsLink} isSecondary={true} />
                                                    ))}
                                                </div>
                                            </>
                                        )}
                                    </section>
                                );
                            })}
                        </div>
                    )}

                    {/* CONTENU CARTE */}
                    {activeTab === 'map' && (
                        <div className="bg-white dark:bg-stone-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-stone-700">
                            <MapComponent places={placesData} />
                            <p className="text-center text-gray-500 text-sm mt-4">Carte centr√©e sur les sites majeurs (Grands points) et secondaires (Petits points).</p>
                        </div>
                    )}

                    {/* CONTENU LIFESTYLE */}
                    {activeTab === 'lifestyle' && (
                        <div className="grid gap-12 animate-fade-in">
                            <section>
                                <h3 className="text-2xl font-bold serif-title text-slate-800 dark:text-slate-200 mb-6">üõèÔ∏è H√¥tels (Janvier)</h3>
                                <div className="grid md:grid-cols-3 gap-6">
                                    {lifestyleData.hotels.map((h, i) => (
                                        <div key={i} className="bg-white dark:bg-stone-800 p-6 rounded-lg border border-gray-100 dark:border-stone-700 shadow-sm">
                                            <div className="flex justify-between items-start mb-2">
                                                <h4 className="font-bold text-lg text-slate-900 dark:text-slate-100">{h.name}</h4>
                                                <span className="text-xs bg-gray-100 dark:bg-stone-700 dark:text-gray-300 px-2 py-1 rounded">{h.type}</span>
                                            </div>
                                            <p className="text-sm text-gray-600 dark:text-gray-400 mb-2">{h.desc}</p>
                                            <p className="text-sm font-bold text-slate-800 dark:text-slate-200">{h.price}</p>
                                            <a href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(h.address + ' ' + h.name + ' Athens')}`} target="_blank" className="text-xs text-blue-600 dark:text-blue-400 mt-2 block hover:underline">üìç {h.address}</a>
                                        </div>
                                    ))}
                                </div>
                            </section>
                            <section>
                                <h3 className="text-2xl font-bold serif-title text-slate-800 dark:text-slate-200 mb-6">üçΩÔ∏è Restaurants & Tavernes</h3>
                                <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                                    {lifestyleData.restaurants.map((r, i) => (
                                        <div key={i} className="bg-white dark:bg-stone-800 p-6 rounded-lg border border-gray-100 dark:border-stone-700 shadow-sm">
                                            <h4 className="font-bold text-lg mb-1 text-slate-900 dark:text-slate-100">{r.name}</h4>
                                            <p className="text-xs text-amber-700 dark:text-amber-500 font-bold mb-2">{r.type}</p>
                                            <p className="text-sm text-gray-600 dark:text-gray-400 mb-2">{r.desc}</p>
                                            <p className="text-sm font-bold text-slate-800 dark:text-slate-200">{r.price}</p>
                                            <a href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(r.address + ' ' + r.name + ' Athens')}`} target="_blank" className="text-xs text-blue-600 dark:text-blue-400 mt-2 block hover:underline">{r.address}</a>
                                        </div>
                                    ))}
                                </div>
                            </section>
                            <section>
                                <h3 className="text-2xl font-bold serif-title text-slate-800 dark:text-slate-200 mb-6">üé≠ Activit√©s & D√©tente</h3>
                                <div className="grid md:grid-cols-2 gap-6">
                                    {lifestyleData.activities.map((a, i) => (
                                        <div key={i} className="bg-stone-50 dark:bg-stone-800 p-6 rounded-lg border-l-4 border-slate-400 dark:border-slate-600">
                                            <div className="flex justify-between mb-1">
                                                <h4 className="font-bold text-lg text-slate-900 dark:text-slate-100">{a.name}</h4>
                                                <span className="text-sm font-bold text-slate-700 dark:text-slate-300">{a.price}</span>
                                            </div>
                                            <p className="text-sm text-gray-700 dark:text-gray-400">{a.desc}</p>
                                            <a href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a.address + ' ' + a.name + ' Athens')}`} target="_blank" className="text-xs text-blue-600 dark:text-blue-400 mt-2 block hover:underline">üìç {a.address}</a>
                                        </div>
                                    ))}
                                </div>
                            </section>
                        </div>
                    )}

                    {/* CONTENU D√âFI PHOTO */}
                    {activeTab === 'photos' && (
                        <div className="animate-fade-in">
                            <div className="text-center mb-8 bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg border border-yellow-200 dark:border-yellow-800">
                                <h3 className="text-2xl font-bold serif-title text-yellow-800 dark:text-yellow-500 mb-2">üì∏ Le Bingo de l'Odyss√©e</h3>
                                <p className="text-gray-700 dark:text-gray-300">6 Missions photos √† accomplir pendant le voyage.</p>
                            </div>

                            <div className="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-8">
                                {photoChallenges.map(chal => (
                                    <label key={chal.id} className="cursor-pointer group relative">
                                        <input 
                                            type="file" 
                                            accept="image/*" 
                                            className="file-input"
                                            onChange={(e) => handlePhotoUpload(chal.id, e)}
                                        />
                                        <div className={`photo-card rounded-xl border-4 shadow-md flex flex-col items-center justify-center p-4 text-center overflow-hidden relative bg-white dark:bg-stone-800 ${userPhotos[chal.id] ? 'border-green-500' : 'border-dashed border-gray-300 dark:border-stone-600 hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-stone-700'}`}>
                                            
                                            {userPhotos[chal.id] ? (
                                                <>
                                                    <img src={userPhotos[chal.id]} className="absolute inset-0 w-full h-full object-cover opacity-90" />
                                                    <div className="absolute bottom-0 left-0 right-0 bg-black/60 text-white p-2 text-xs font-bold">
                                                        ‚úÖ {chal.title}
                                                    </div>
                                                </>
                                            ) : (
                                                <>
                                                    <div className="text-4xl mb-2">{chal.icon}</div>
                                                    <h4 className="font-bold text-slate-800 dark:text-slate-200 mb-1">{chal.title}</h4>
                                                    <p className="text-xs text-gray-500 dark:text-gray-400 leading-tight">{chal.desc}</p>
                                                    <div className="mt-4 px-3 py-1 bg-gray-100 dark:bg-stone-700 rounded-full text-xs text-gray-400 group-hover:bg-blue-200 group-hover:text-blue-800 transition-colors">
                                                        Clique pour ajouter
                                                    </div>
                                                </>
                                            )}
                                        </div>
                                    </label>
                                ))}
                            </div>
                        </div>
                    )}

                    <footer className="mt-16 text-center text-gray-400 text-sm pb-8 border-t border-gray-200 dark:border-stone-700 pt-8 transition-colors">
                        Guide Ath√®nes Hiver 2025 ‚Ä¢ Mythe, Raison & Souvenirs
                    </footer>
                </div>
            );
        };

        // --- SUB-COMPONENT: PlaceCard ---
        const PlaceCard = ({ p, c, getMapsLink, isSecondary = false }) => (
            <div className={`bg-white dark:bg-stone-800 rounded-lg shadow-sm border border-gray-100 dark:border-stone-700 overflow-hidden flex flex-col transition-colors duration-300 ${isSecondary ? 'opacity-90' : ''}`}>
                
                {/* IMAGE DU LIEU */}
                {p.image && (
                    <div className="w-full h-40 overflow-hidden relative">
                        <img 
                            src={p.image} 
                            alt={p.name} 
                            className="w-full h-full object-cover hover:scale-105 transition-transform duration-500"
                        />
                        <div className={`absolute bottom-0 left-0 w-full h-1 bg-${c}-500`}></div>
                    </div>
                )}
                
                <div className="p-6 flex-grow flex flex-col">
                    <div className="flex justify-between items-start mb-2">
                        <h4 className={`font-bold text-slate-900 dark:text-slate-100 ${isSecondary ? 'text-lg' : 'text-xl'}`}>{p.name}</h4>
                        {p.type === 'Secondaire' && <span className="text-[10px] bg-gray-100 dark:bg-stone-700 text-gray-500 px-2 py-0.5 rounded">2nd</span>}
                    </div>
                    
                    {/* Liens : Maps & Web */}
                    <div className="flex gap-3 mb-4 text-sm">
                        <a href={getMapsLink(p)} target="_blank" className="flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:underline">
                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                            {p.address}
                        </a>
                        <a href={p.website} target="_blank" className="flex items-center gap-1 text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200">
                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path></svg>
                            Site Web
                        </a>
                    </div>

                    <div className="bg-gray-50 dark:bg-stone-700 p-3 rounded text-sm mb-4 transition-colors">
                        <div className="font-semibold text-gray-800 dark:text-gray-200">üïí {p.hours}</div>
                        <div className="text-gray-600 dark:text-gray-400">üéüÔ∏è {p.price}</div>
                    </div>

                    {/* SECTION ACTIVIT√âS */}
                    {p.activity && (
                        <div className="mb-4">
                            <span className="text-xs font-bold uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-1 block">√Ä faire sur place :</span>
                            <p className="text-sm text-gray-700 dark:text-gray-300 italic">
                                "{p.activity}"
                            </p>
                        </div>
                    )}
                    
                    <div className="space-y-2 text-sm mt-auto border-t border-gray-100 dark:border-stone-700 pt-3">
                        <div className="text-amber-800 dark:text-amber-200 bg-amber-50 dark:bg-amber-900/30 p-2 rounded transition-colors">‚ö° <b>Mythe:</b> {p.myth}</div>
                        <div className="text-sky-800 dark:text-sky-200 bg-sky-50 dark:bg-sky-900/30 p-2 rounded transition-colors">üß† <b>Philo:</b> {p.philo}</div>
                    </div>
                </div>
            </div>
        );

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
